{% extends "layouts/condensed.html" %}

{% block before_head %}
  {{ super() }}
  {% import "helpers/src_macros.html" as macro %}
  {{ macro.filehelper(datatables=True,apex=True) }}
{% endblock %}

{%block contentHeader%}
<div class="page-header">
  <div class="row align-items-center">
    <div class="col">
      <div class="page-pretitle">
        Dashboard
      </div>
      <h2 class="page-title">
        Dashboard
      </h2>
    </div>
    <div class="col-auto ms-auto">
      <div class="btn-list">
        <span class="d-none d-sm-inline">
          <a href="{{url_for("main.workflows")}}" class="btn btn-primary">
            Get Started
          </a>
        </span>
      </div>
    </div>
  </div>
</div>
{%endblock%}

{%block content%}
  <div class="row row-cards">
    <div class="col-8">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Workflow Executions</h3>
          </div>
          <div class="card-body">
            <div id="chartbar" class="chart-lg"></div>
          </div>
        </div>
    </div>
    <div class="col-4">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Workflow Triggers</h3>
          </div>
          <div class="card-body">
            <div id="chartpie" class="chart-lg"></div>
          </div>
        </div>
    </div>
  </div>
  <div class="row row-cards mt-1">
    <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Recent Events</h3>
          </div>
          <div class="card-body">

          </div>
        </div>
    </div>
  </div>
{%endblock%}
{%block extrajs%}
<script>

        var options = {
          series: [{
          name: 'PRODUCT A',
          data: [44, 55, 41, 67, 22, 43]
        }, {
          name: 'PRODUCT B',
          data: [13, 23, 20, 8, 13, 27]
        }, {
          name: 'PRODUCT C',
          data: [11, 17, 15, 15, 21, 14]
        }, {
          name: 'PRODUCT D',
          data: [21, 7, 25, 13, 22, 8]
        }],
          chart: {
          type: 'bar',
          height: 350,
          stacked: true,
          toolbar: {
            show: true
          },
          zoom: {
            enabled: true
          }
        },
        responsive: [{
          breakpoint: 480,
          options: {
            legend: {
              position: 'bottom',
              offsetX: -10,
              offsetY: 0
            }
          }
        }],
        plotOptions: {
          bar: {
            horizontal: false,
            borderRadius: 10
          },
        },
        xaxis: {
          type: 'datetime',
          categories: ['01/01/2011 GMT', '01/02/2011 GMT', '01/03/2011 GMT', '01/04/2011 GMT',
            '01/05/2011 GMT', '01/06/2011 GMT'
          ],
        },
        legend: {
          position: 'right',
          offsetY: 40
        },
        fill: {
          opacity: 1
        }
        };

        var chart = new ApexCharts(document.querySelector("#chartbar"), options);
        chart.render();
</script>
{%endblock%}
